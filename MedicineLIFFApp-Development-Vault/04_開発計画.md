# é–‹ç™ºè¨ˆç”»

## ğŸ—“ï¸ é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Phase 1: LIFFåŸºç›¤æ§‹ç¯‰ (1-2é€±é–“)
**ç›®æ¨™**: åŸºæœ¬çš„ãªLIFFã‚¢ãƒ—ãƒªã¨LINEèªè¨¼ã®å®Ÿè£…

#### Week 1
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  - [ ] Vite + React + TypeScriptç’°å¢ƒæ§‹ç¯‰
  - [ ] LIFF SDKçµ±åˆ
  - [ ] åŸºæœ¬çš„ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
- [ ] LINEèªè¨¼å®Ÿè£…
  - [ ] LIFFåˆæœŸåŒ–
  - [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
  - [ ] èªè¨¼Contextä½œæˆ

#### Week 2
- [ ] åŸºæœ¬UIå®Ÿè£…
  - [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢
  - [ ] ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
  - [ ] è–¬ä¸€è¦§ç”»é¢
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIåŸºç›¤
  - [ ] Express/Fastifyã‚µãƒ¼ãƒãƒ¼
  - [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»ä½œæˆ
  - [ ] èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

### Phase 2: æ ¸å¿ƒæ©Ÿèƒ½é–‹ç™º (2-3é€±é–“)
**ç›®æ¨™**: è–¬ç®¡ç†ã¨åŸºæœ¬çš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ©Ÿèƒ½

#### Week 3-4
- [ ] è–¬ç®¡ç†æ©Ÿèƒ½
  - [ ] è–¬ã®ç™»éŒ²ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
  - [ ] è–¬ä¸€è¦§è¡¨ç¤º
  - [ ] è–¬è©³ç´°ç”»é¢
- [ ] åŸºæœ¬ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ©Ÿèƒ½
  - [ ] æ™‚é–“è¨­å®š
  - [ ] ç”¨é‡è¨­å®š
  - [ ] ç°¡å˜ãªç¹°ã‚Šè¿”ã—è¨­å®š

#### Week 5
- [ ] æœè–¬è¨˜éŒ²æ©Ÿèƒ½
  - [ ] è¨˜éŒ²å…¥åŠ›UI
  - [ ] è¨˜éŒ²å±¥æ­´è¡¨ç¤º
  - [ ] è¨˜éŒ²ã®ä¿®æ­£ãƒ»å‰Šé™¤
- [ ] åŸºæœ¬é€šçŸ¥æ©Ÿèƒ½
  - [ ] LINE BotåŸºæœ¬è¨­å®š
  - [ ] å˜ç´”ãªãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é€ä¿¡

### Phase 3: é«˜åº¦ãªæ©Ÿèƒ½å®Ÿè£… (2-3é€±é–“)
**ç›®æ¨™**: ä¼‘è–¬æœŸé–“ç®¡ç†ã¨è¤‡é›‘ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

#### Week 6-7
- [ ] ä¼‘è–¬æœŸé–“ç®¡ç†
  - [ ] å‘¨æœŸçš„ä¼‘è–¬è¨­å®šUI
  - [ ] å›ºå®šæœŸé–“ä¼‘è–¬è¨­å®šUI
  - [ ] ä¼‘è–¬æœŸé–“è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- [ ] é«˜åº¦ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
  - [ ] æ›œæ—¥æŒ‡å®š
  - [ ] è¤‡æ•°æ™‚é–“è¨­å®š
  - [ ] ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ

#### Week 8
- [ ] é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ å¼·åŒ–
  - [ ] ä¼‘è–¬æœŸé–“è€ƒæ…®ã—ãŸé€šçŸ¥
  - [ ] é€šçŸ¥è¨­å®šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
  - [ ] ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼å®Ÿè£…

### Phase 4: åˆ†æãƒ»æœ€é©åŒ– (1-2é€±é–“)
**ç›®æ¨™**: ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã¨å“è³ªå‘ä¸Š

#### Week 9
- [ ] åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½
  - [ ] æœè–¬éµå®ˆç‡è¨ˆç®—
  - [ ] ã‚°ãƒ©ãƒ•è¡¨ç¤º (Recharts)
  - [ ] é€±é–“ãƒ»æœˆé–“ãƒ¬ãƒãƒ¼ãƒˆ
- [ ] UI/UXæ”¹å–„
  - [ ] ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
  - [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–

#### Week 10
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  - [ ] Code Splitting
  - [ ] Bundle ã‚µã‚¤ã‚ºæœ€é©åŒ–
  - [ ] PWAå¯¾å¿œ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè£…
  - [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
  - [ ] çµ±åˆãƒ†ã‚¹ãƒˆ
  - [ ] E2Eãƒ†ã‚¹ãƒˆ

## ğŸ¯ ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### Milestone 1: MVP (Minimum Viable Product)
- åŸºæœ¬çš„ãªè–¬ç®¡ç†
- ç°¡å˜ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
- æœè–¬è¨˜éŒ²
- LINEèªè¨¼

### Milestone 2: å®Ÿç”¨ç‰ˆ
- ä¼‘è–¬æœŸé–“ç®¡ç†
- è¤‡é›‘ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
- é€šçŸ¥æ©Ÿèƒ½
- åŸºæœ¬ãƒ¬ãƒãƒ¼ãƒˆ

### Milestone 3: å®Œæˆç‰ˆ
- é«˜åº¦ãªåˆ†ææ©Ÿèƒ½
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™

## ğŸ”§ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«
```bash
# Node.js (v18ä»¥ä¸Š)
node --version

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
npm --version

# Git
git --version
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```bash
# LIFF App (React + TypeScript)
npm create vite@latest medicine-liff-app -- --template react-ts
cd medicine-liff-app
npm install

# è¿½åŠ ä¾å­˜é–¢ä¿‚
npm install @line/liff
npm install @radix-ui/react-dialog @radix-ui/react-select
npm install @tanstack/react-query zustand
npm install react-hook-form @hookform/resolvers zod
npm install lucide-react recharts
npm install -D tailwindcss @tailwindcss/forms
npm install -D vitest @testing-library/react @testing-library/jest-dom
npm install -D playwright @playwright/test
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Cloudflare Workers + Hono)
```bash
# Workers ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npm create cloudflare@latest medicine-workers -- --type hello-world
cd medicine-workers

# Hono ã¨å¿…è¦ãªä¾å­˜é–¢ä¿‚
npm install hono
npm install drizzle-orm
npm install -D drizzle-kit
npm install -D @cloudflare/workers-types
npm install -D wrangler
npm install -D typescript

# D1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
wrangler d1 create medicine-db

# ç’°å¢ƒè¨­å®š
echo 'compatibility_date = "2024-11-01"' >> wrangler.toml
echo 'main = "src/index.ts"' >> wrangler.toml
```

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "test": "vitest",
    "test:e2e": "playwright test",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "type-check": "tsc --noEmit"
  }
}
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Cloudflare Workers)
```json
{
  "scripts": {
    "dev": "wrangler dev",
    "deploy": "wrangler deploy",
    "deploy:staging": "wrangler deploy --env staging",
    "db:generate": "drizzle-kit generate:sqlite",
    "db:migrate": "wrangler d1 migrations apply medicine-db",
    "db:studio": "drizzle-kit studio",
    "test": "vitest",
    "type-check": "tsc --noEmit"
  }
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
```typescript
// ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä¾‹
// src/components/__tests__/MedicineCard.test.tsx
import { render, screen } from '@testing-library/react'
import { MedicineCard } from '../MedicineCard'

test('displays medicine information correctly', () => {
  const medicine = {
    id: 1,
    name: 'ãƒ­ã‚­ã‚½ãƒ‹ãƒ³éŒ 60mg',
    description: 'æ¶ˆç‚é®ç—›å‰¤',
    dosage: '1',
    unit: 'éŒ ',
    color: '#ec4899'
  }
  
  render(<MedicineCard medicine={medicine} />)
  
  expect(screen.getByText('ãƒ­ã‚­ã‚½ãƒ‹ãƒ³éŒ 60mg')).toBeInTheDocument()
  expect(screen.getByText('æ¶ˆç‚é®ç—›å‰¤')).toBeInTheDocument()
  expect(screen.getByText('1éŒ ')).toBeInTheDocument()
})
```

### E2Eãƒ†ã‚¹ãƒˆ
```typescript
// tests/e2e/medicine-management.spec.ts
import { test, expect } from '@playwright/test'

test('user can add a new medicine', async ({ page }) => {
  await page.goto('/medicines')
  
  await page.click('[data-testid="add-medicine-button"]')
  await page.fill('[data-testid="medicine-name"]', 'ãƒ­ã‚­ã‚½ãƒ‹ãƒ³éŒ 60mg')
  await page.fill('[data-testid="medicine-description"]', 'æ¶ˆç‚é®ç—›å‰¤')
  await page.fill('[data-testid="medicine-dosage"]', '1')
  await page.selectOption('[data-testid="medicine-unit"]', 'éŒ ')
  
  await page.click('[data-testid="submit-button"]')
  
  await expect(page.locator('[data-testid="medicine-card"]')).toContainText('ãƒ­ã‚­ã‚½ãƒ‹ãƒ³éŒ 60mg')
})
```

### APIãƒ†ã‚¹ãƒˆ
```typescript
// tests/api/medicines.test.ts
import request from 'supertest'
import { app } from '../src/app'

describe('POST /api/medicines', () => {
  test('creates a new medicine', async () => {
    const medicineData = {
      name: 'ãƒ­ã‚­ã‚½ãƒ‹ãƒ³éŒ 60mg',
      description: 'æ¶ˆç‚é®ç—›å‰¤',
      dosage: '1',
      unit: 'éŒ ',
      color: '#ec4899'
    }
    
    const response = await request(app)
      .post('/api/medicines')
      .set('Authorization', 'Bearer valid-token')
      .send(medicineData)
      .expect(201)
    
    expect(response.body.name).toBe('ãƒ­ã‚­ã‚½ãƒ‹ãƒ³éŒ 60mg')
  })
})
```

## ğŸ“‹ ã‚¿ã‚¹ã‚¯ç®¡ç†

### å„ªå…ˆåº¦ä»˜ã‘ã®åŸºæº–
1. **é«˜**: MVPæ©Ÿèƒ½ã€èªè¨¼ã€åŸºæœ¬CRUD
2. **ä¸­**: ä¼‘è–¬æœŸé–“ã€é€šçŸ¥ã€ãƒ¬ãƒãƒ¼ãƒˆ
3. **ä½**: é«˜åº¦ãªåˆ†æã€PWAã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
```
main (æœ¬ç•ªç”¨)
â”œâ”€â”€ develop (é–‹ç™ºçµ±åˆ)
â”œâ”€â”€ feature/liff-integration
â”œâ”€â”€ feature/medicine-management
â”œâ”€â”€ feature/schedule-management
â”œâ”€â”€ feature/break-periods
â””â”€â”€ feature/notifications
```

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„
```
feat: æ–°æ©Ÿèƒ½è¿½åŠ 
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
style: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
chore: ç’°å¢ƒè¨­å®šãƒ»ãƒ“ãƒ«ãƒ‰é–¢é€£
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ‰‹é †

### ç’°å¢ƒåˆ¥è¨­å®š
```bash
# é–‹ç™ºç’°å¢ƒ
VITE_APP_ENV=development
VITE_LIFF_ID=dev-liff-id
VITE_API_BASE_URL=http://localhost:3000

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ
VITE_APP_ENV=staging
VITE_LIFF_ID=staging-liff-id
VITE_API_BASE_URL=https://medicine-api-staging.railway.app

# æœ¬ç•ªç’°å¢ƒ
VITE_APP_ENV=production
VITE_LIFF_ID=prod-liff-id
VITE_API_BASE_URL=https://medicine-api.railway.app
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```json
{
  "scripts": {
    "deploy:staging": "npm run build && vercel --prod --target staging",
    "deploy:production": "npm run build && vercel --prod"
  }
}
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Cloudflare)
```json
{
  "scripts": {
    "deploy:staging": "wrangler deploy --env staging",
    "deploy:production": "wrangler deploy --env production",
    "db:migrate:staging": "wrangler d1 migrations apply medicine-db --env staging",
    "db:migrate:production": "wrangler d1 migrations apply medicine-db --env production"
  }
}
```

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦ä»¶

### å¿…è¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] README.md
- [ ] APIä»•æ§˜æ›¸
- [ ] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«
- [ ] é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ
```bash
# APIä»•æ§˜æ›¸
npm install -D swagger-jsdoc swagger-ui-express

# TypeScriptå‹å®šç¾©ã‹ã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
npm install -D typedoc
```

## ğŸ” ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼åŸºæº–

### ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§
- [ ] TypeScriptå‹å®‰å…¨æ€§
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

### è‡ªå‹•ãƒã‚§ãƒƒã‚¯
```yaml
# .github/workflows/ci.yml
name: CI
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run type-check
      - run: npm run lint
      - run: npm run test
      - run: npm run test:e2e
```

---

å‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [[03_æŠ€è¡“ä»•æ§˜]]
æ¬¡ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [[05_å®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«]]
