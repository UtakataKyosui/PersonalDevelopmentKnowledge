- [[使用したいMCP一覧]]
- [[Claude調べ：MCP一覧表]]
- [[Claude Desktop -Obsidian MCP-]]

## MCPとは
`Model Context Protocol`のこと
AIの真価は外部システムと連携した時に発揮されるとし、外部システムと連携させる時のAPI統合の際の
- 認証方法
- データ形式
- エラーハンドリング
などの細かな実装の個別対応をせねばならず、拡張性や保守性の面での問題を解決する、AIと外部システム接続のための標準化されたプロトコル。
2024 年 11 月に Anthropic が発表したオープンプロトコルである。

### アーキテクチャ
クライアント・サーバモデルに基づく。

- MCPホスト
	- 生成AIを搭載したアプリケーション
	- `Claude Desktop`,`Zed`,`Cursor`などの開発環境
	- MCPクライアントを通じて、外部データやツールにアクセス
- MCPクライアント
	- MCPホスト内で組み込まれたコンポーネントで、MCPサーバとの通信を担当
	- クライアントはサーバとの接続を確立し、リソース、ツール、プロンプトなどの機能を利用するためのリクエストを送信する
- MCPサーバ
	- 特定のデータソースやツールへのアクセスを提供する軽量サーバ
	- ファイルシステム・データベース・ APIなどへのアクセスを提供するサーバがあり、クライアントからのリクエストを処理し、必要なデータや機能を提供する


### 通信プロトコル
 - MCPの通信は`JSON-RPC 2.0`プロトコルに基づく。
 - クライアントとサーバ間の通信は、標準入出力（stdio）または HTTP with Server-Sent Events（SSE）トランスポートを通じて行われる

#### 通信の流れ
1. クライアントがサーバに接続し、初期化メッセージを送信
2. サーバが対応するプロトコルバージョンなどの情報を返信
3. クライアントがサーバの機能（リソース、ツール、プロンプト）を問い合わせ
4. サーバが利用可能な機能のリストを返信
5. クライアントが特定の機能を利用するためのリクエストを送信
6. サーバがリクエストを処理し、結果を返信

https://zenn.dev/cloud_ace/articles/model-context-protocol